## 등장인물 관계 그래프 웹 서버 (character_graph_web)

나무위키 전체 덤프(`heegyu/namuwiki` 데이터셋)를 활용해 작품의 등장인물 관계 그래프를 보여주는 Flask 웹 서버입니다.

---

### 1. 실행 방법

#### 1-1. 가상환경 생성 및 활성화

```bash
python3 -m venv venv
source venv/bin/activate          # zsh/bash 기준

pip install -r requirements.txt   # 필요 시 한 번만 실행
```

#### 1-2. 서버 실행

```bash
(venv) python3 app.py
```

(첫 실행시 데이터 로드 및 인덱스 생성에 시간이 소요될 수 있습니다.)

실행 후 브라우저에서 아래 주소로 접속합니다.

```text
http://127.0.0.1:5000
```

---

### 2. 사용하는 데이터와 용량

이 프로젝트는 Hugging Face의 `heegyu/namuwiki` 데이터셋을 사용하며,  
데이터는 기본적으로 `./data` 디렉토리 아래에 캐시됩니다.

- **처음 실행 시**
  - 약 **3GB** 정도의 압축된 데이터셋을 인터넷에서 다운로드합니다.
  - 다운로드 후 Arrow/캐시 파일로 변환되면서 **추가 디스크 용량**을 사용합니다.
- **대략적인 디스크 사용량**
  - 다운로드 캐시 + 변환된 데이터셋까지 합쳐서 **약 10~11GB** 정도가 필요할 수 있습니다.

  (추후에 dataset을 json+gz 형식으로 압축해서 용량을 좀 줄이려고 합니다.)

서버는 실행 시에:

- `./data`에 캐시된 데이터셋을 로드하고,
- 한 번 전체를 순회하면서 **제목 인덱스(pickle 파일)**를 만들어 두었다가  
  이후 요청에서 빠르게 제목으로 문서를 찾는 데 활용합니다.

요약하면:

- **최초 1회 실행 시**: 데이터 다운로드 및 인덱스 생성으로 시간이 다소 걸릴 수 있고,
- 이후에는 **캐시된 데이터와 인덱스를 재사용**하여 비교적 빠르게 서버를 띄울 수 있습니다.



